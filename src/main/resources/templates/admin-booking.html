<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="${title}"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
</head>
<body>
<header th:insert="blocks/admin-header :: admin-header"></header>
<div class="container text-center col-6 p-3">
    <h5 class="text-success">Показать бронирования</h5>
    <form id ="find" action="/admin/booking" method="post">
        <div class="row justify-content-center">
            <input type="date" required name="date" class="form-control m-3 col-lg">
            <select name="table_status" required class="form-select m-3 col-lg" aria-label=".form-select-lg example">
                <option selected disabled>Выберите статус</option>
                <option value="Все">Все</option>
                <option value="Забронировано">Забронировано</option>
                <option value="Ошибка бронирования">Ошибка бронирования</option>
                <option value="Открыто">Открыто</option>
                <option value="Отменено">Отменено</option>
            </select>
            <button id="reservation-choice-button" type="submit" class="btn btn-success m-3 col-lg">Показать</button>
        </div>
    </form>
</div>
<output class="container-fluid text-center">
    <table class="table table-success">
        <thead>
        <tr>
            <th scope="col">Id</th>
            <th scope="col">Имя</th>
            <th scope="col">Телефон</th>
            <th scope="col">Начало брони</th>
            <th scope="col">Конец брони</th>
            <th scope="col">Номер стола</th>
            <th scope="col">Статус</th>
            <th scope="col">Редактирование</th>
            <th scope="col">Удаление</th>
        </tr>
        </thead>
        <tbody th:each="el : ${reservations}">
        <tr>
            <th th:text="${el.id}"></th>
            <th th:text="${el.customer_name}"></th>
            <th th:text="${el.customer_phone}"></th>
            <th th:text="${el.dt_from}"></th>
            <th th:text="${el.dt_to}"></th>
            <th th:text="${el.table_id}"></th>
            <th th:text="${el.table_status}"></th>
            <th>
                <a class="col text-success" th:href="'/admin/booking/' + ${el.id} + '/edit'">Редактировать</a>
            </th>
            <th>
                <a class="col text-success" th:href="'/admin/booking/' + ${el.id} + '/delete'">Удалить</a>
            </th>
        </tr>
        </tbody>
    </table>
</output>
<div class="container-fluid text-center">
    <a class="btn btn-success m-3 col-lg" href="/booking">Добавить новую бронь</a>
</div>
<footer th:insert="blocks/admin-footer :: admin-footer"></footer>
</body>
</html>